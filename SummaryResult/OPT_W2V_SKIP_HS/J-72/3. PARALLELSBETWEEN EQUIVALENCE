Furthermore, Nisan and Segal (Lemma 1, [12]) state that in the worst-case agents" prices must coincide with their valuations (up to a constant), when the valuation class is rich enough to contain dual valuations (as will be the case with most interesting classes).
Inequality (6) holds because the agent in fact prefers S to S given the prices, according to its response to the demand query.
We say that the Lindahl prices support the optimal allocation.
There is usually a range of possible Lindahl prices  supporting a given optimal allocation.
Considering now why demand and equivalence queries are direct 