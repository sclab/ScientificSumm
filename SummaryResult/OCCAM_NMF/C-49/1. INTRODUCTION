we also propose a new prediction-based  routing protocol, and compare it to the above in our evaluation. 
using realistic contact traces, we evaluate the performance of three naive routing protocols (direct-delivery, epidemic, and  random) and two prediction-based routing protocols, prophet [16] and link-state [22].
to the best of our knowledge, we are the first to simulate the effect of routing protocols in a large-scale mobile opportunistic network, using realistic contact traces derived from real traces of a production network with more than 5, 000 users.
our  messagegeneration model, however, was synthetic.
instead of  using a complex mobility model to mimic people"s mobility patterns, we used mobility traces collected in a production wireless  network at dartmouth college to drive our simulation.
deploying and experimenting large-scale mobile opportunistic networks is difficult, we too resort to simulation.
those studies help  researchers better understand the theoretical limits of opportunistic networks, and the routing protocol performance in a small network (20-30 nodes).
[22] simulated a set of routing 35 protocols in a small experimental network.
su et al.
[5] theoretically analyzed the impact of routing algorithms over a model derived from a  realistic mobility data set.
chaintreau et al.
realising the limitations of  using random mobility models in simulations, a few researchers have studied routing protocols in mobile opportunistic networks with  realistic mobility traces.
although these synthetic mobility models have received extensive interest by mobile ad-hoc network researchers [3], they do not  reflect people"s mobility patterns [9].
random walk or random way-point mobility models are often used to evaluate the performance of those routing protocols.
few of them were evaluated in realistic network settings, or even in realistic simulations, due to the lack of any realistic people  mobility model.
many routing protocols have been proposed in the literature.
we do not consider  multicast or geocast in this paper.
although one person may carry multiple devices, we assume that the sender knows which device is the best to receive the message.
each message is destined for a specific person and thus for a specific node carried by that person.
each device represents a unique person (it is out of the scope of this paper when a device maybe carried by multiple  people).
we assume that people send messages to other people occasionally, using their  devices; when no direct link exists between the source and the  destination of the message, other nodes may relay the message to the destination.
in this paper, we study protocols for routing messages between wireless networking devices carried by people.
indeed, there may never exist an end-to-end path between two given devices.
note that  traditional internet routing protocols and ad-hoc routing protocols, such as aodv [20] or dsdv [19], assume that a contemporaneous  endto-end path exists, and thus fail in mobile opportunistic networks.
but a node may frequently be isolated from other nodes.
some devices can form a small mobile ad-hoc network when the nodes move close to each other.
in mobile opportunistic  networks, communication devices can be carried by people [4],  vehicles [1] or animals [11].
mobile  opportunistic networks differ from the internet in that disconnections are the norm instead of the exception.
one fundamental problem in opportunistic networks is how to route messages from their source to their destination.
opportunistic  networking is one promising approach for those children to exchange information.
we expect to see more opportunistic networks when the  one-laptopper-child (olpc) project [18] starts rolling out inexpensive  laptops with wireless networking capability for children in developing countries, where often no infrastructure exits.
in the literature, these networks include mobile sensor networks [25], wild-animal tracking networks [11],  pocketswitched networks [8], and transportation networks [1, 14].
mobile opportunistic networks have received increasing interest from researchers.
for us, mobile opportunistic networks are those dtns with sparse node population and frequent link breaks caused by power-offs and the mobility of the nodes.
link breaks are caused by nodes moving out of range, environmental changes, interference from other moving objects, radio power-offs, or failed nodes.
long link delays  happen in networks with communication between nodes at a great  distance, such as interplanetary networks [2].
delay-tolerant networks provide service  despite long link delays or frequent link breaks.
mobile opportunistic networks are one kind of delay-tolerant network (dtn) [6].
