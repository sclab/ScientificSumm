we also provide a  polynomiallyverifiable sufficient condition for the existence of a  pairbetting match and show that a greedy algorithm offers poor approximation for indivisible pair bets. 
pair betting, described in section 3.3, allows traders to bet on the final ranking of any two candidates, for example candidate d will defeat candidate r. in section 5, we show that optimal matching of (divisible or indivisible) pair bets is np-hard, via a reduction from the unweighted minimum feedback arc set problem.
the key to the result is showing that the exponentially big linear program has a corresponding separation problem that reduces to maximum weighted bipartite matching and consequently we can solve it in time polynomial in the number of orders.
in section 4, we derive a polynomial-time algorithm for matching (divisible) subset bets.
subset betting, described in section 3.2, allows traders to bet on which positions in the ranking a candidate will fall, for example candidate d will finish in position 1, 3-5, or 10. symetrically, traders can also bet on which candidates will fall in a particular  position.
we explore two bidding languages that seem  natural from a trader perspective.
we want to offer traders the most expressive bidding language possible while maintaining computational feasibility.
there is a tradeoff between the expressiveness of the  bidding language and the computational complexity of the  matching problem.
independent choices, making the likelihood of two traders converging at the same time and place seem remote.
securities, one for each  possible final ordering, is both cumbersome for the traders and computationally infeasible even for modest sized n.  moreover, traders" attention would be spread among n!
attempting to reduce the problem to a bilateral matching problem by explicitly creating n!
as we shall see, the matching  problem can be set up as a linear or integer program, depending on whether orders are divisible or indivisible, respectively.
the goal of the exchange is to search among all the offers to find two or more that together form an agreeable match.
traders may like to bet on arbitrary properties of the final ordering, for example candidate d will win, candidate d will finish in either first place or last place, candidate d will defeat candidate r, candidates d and r will both  defeat candidate l, etc.
possible orderings of candidates after the final vote tally.
and thus n!
for example, suppose that there are n  candidates in an election (or n horses in a race, etc.)
in particular, we focus on a setting where traders bet on the outcome of a competition among n candidates.
we propose an exchange where traders have considerable flexibility to naturally and succinctly express their wagers, 326 and examine the computational complexity of the  auctioneer"s resulting matching problem of identifying bilateral and multilateral agreements.
for example, if one trader bets that the democratic candidate will receive more votes than the republican  candidate, a second trader bets that the republican candidate will receive more votes than the libertarian candidate, and a third trader bets that the libertarian candidate will receive more votes than the democratic candidate, then,  depending on the odds they each offer, there may be a three-way agreeable match even though no two-way matches exist.
however in many scenarios, even if no bilateral agreements exist among traders, multilateral agreements may be  possible.
for example, one trader willing to accept an x dollar loss if a democrat does not win in return for a y dollar profit if a democrat wins is matched up with a second trader willing to accept the opposite.
almost all existing financial and betting exchanges pair up bilateral trading partners.
in this case of an event-contingent security, the price-the market"s value of the security-corresponds directly to the estimated probability of the event.
the transaction is a commitment to accept a fifty-two cent loss if a democrat does not win in return for a forty-eight cent profit if a democrat does win.
consider buying a security at price fifty-two cents, that pays $1 if and only if a democrat wins the 2008 us  presidential election.
in practice, this aggregate market assessment of the security"s value is often more accurate than other forecasts relying on experts, polls, or statistical inference [16, 17, 5, 2, 15].
the collective interaction of all bets leads to an equilibrium that reflects an aggregation of all the traders" information and beliefs.
each trader evaluates his expected profit to decide the quantity to buy or sell according to his own information and  subjective probability assessment.
for example, buying a stock is a bet that the stock"s value is greater than its current price.
buying or selling a financial security in effect is a wager on the security"s value.
