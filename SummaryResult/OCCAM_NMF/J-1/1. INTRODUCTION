most of the studied  problem domains are of the more restrictive procurement class domains and we believe that the more general setting will inspire more research. 
the above definitions build on the  different competition powers of players in a mechanisms called internal and external competition.
we define class based domain and procurement class based domains.
in addition to the main contribution described above, this paper also defines an important classification of problem  domains.
the open problems that are answered by gtr are distributed markets with strategic transportation edges and bounded paths, combinatorial double-sided  auctions with bounded size of the trading group i.e., a buyer and its bundle goods" sellers, combinatorial double-sided  auctions with bounded number of possible trading groups.
recently we also learned that the gtr procedure allows one to turn the model newly presented [6] into a bb mechanism.
for the distributed markets [3] and the supply chain [2, 4] the gtr solution procedure improves on the welfare losses" bound, i.e., allows one to achieve an ir, ic and bb mechanism with smaller loss on the social welfare.
for the homogeneous  doublesided auctions the gtr solution procedure improves on the well known solution [13] by allowing for some cases of no trade reduction at all.
the existing solutions our gtr procedure improves are homogeneous double-sided auctions, distributed markets [3], and supply chain [2, 4].
in addition to unifying many of the bb problems under a single solution concept, the gtr procedure improves on existing results and solves several open problems in the  literature.
a particularly interesting case is one in which the input mechanism is an efficient allocation.
nevertheless for a wide class of problems we are able to bound the loss in welfare.
there are problem instances in which no welfare loss is necessary but by [15] there are problem instances in which there is welfare loss.
the output mechanism may suffer some welfare loss as a tradeoff of achieving bb.
gtr accepts an ir and ic mechanism for single-valued players and outputs an ir, ic and bb mechanism.
the solution procedure called the  generalized trade reduction (gtr).
1.2 our contribution in this paper we unify all the problems discussed above (both the solved as well as the open ones) into one solution concept procedure.
naturally an answer to the bb distributed market with strategic edges has vast practical implications, for example to transportation  networks.
another interesting example is the open question left by [3]:how can one bound the loss in social welfare that is needed to achieve budget balance in an ir and ic distributed market where the transportation edges are strategic.
for example, in the important domain of combinatorial  doublesided auctions there is no known result that bounds the loss of social welfare needed to achieve budget balance.
2 a brief reminder of all of the problems used in this paper can be found in appendix b 20 imates the social welfare remains an open problem.
furthermore, there are several domains where the question of how to design an ir, ic and bb mechanism which  approx1 social welfare is also referred to as efficiency in the  economics literature.
despite the works discussed above, the question of how to design a general mechanism that achieves ir, ic, and bb independently of the problem domain remains open.
for supply chain problems [2, 4] bounds the loss of social welfare that is necessary to inflict on the mechanism in order to achieve the desired combination of ir, ic, and bb.
[16, 9, 3] present mechanisms that approximate the social welfare while achieving an ir, ic and bb mechanism.
in the distributed markets problem (and closely related problems) goods are transported between geographic locations while incurring some constant cost for transportation.
[13] developed a  mechanism that given valuations of buyers and sellers produces an allocation (which are the trading players) and a matching between buyers and sellers such that the mechanism is ir, ic, and bb while retaining most of the social welfare.
for instance, for double-sided auctions where both the buyers and sellers are strategic and the goods are homogeneous [13] (or when the goods are heterogeneous [5]).
1.1 related work and specific solutions there have been several attempts to design budget  balanced mechanisms for particular domains2 .
to maintain the bb property in an ir and ic mechanism it is necessary to compromise on the optimality of the social welfare.
of course, for many applications of practical importance we lack the will and the capability to allow the mechanism to run a deficit and hence one must balance the payments made by the mechanism.
however, it is well known from [15] that any mechanism that maximizes social welfare while maintaining individual  rationality and incentive compatibility runs a deficit perforce, i.e., is not budget balanced.
in many of the mechanisms the goal function that a mechanism designer attempts to maximize is the social welfare1 - the total benefit to society.
some of the more important ones are individual rationality (ir) - to make it worthwhile for all players to participate, incentive  compatibility (ic) - to give incentive to players to report their true value to the mechanism and budget balance (bb) - not to run the mechanism on a loss.
when designing a mechanism there are several key  properties that are desirable to maintain.
