thus the problem is solvable in polynomial time.
as we indicated, the number of variables and constraints is exponential only in n, and hence the linear program is of polynomial size for constant numbers of agents.
all that is left to do is to give the expression the designer is seeking to maximize, which is: • θ1,...,θn γ(θ1, ..., θn )(( o∈o (p(θ1, θ2, ..., θi, ..., θn ))(o)g(o)) + n i=1 πi(θ1, θ2, ..., θn )).
finally, for implementation in bayes-nash equilibrium, we add the following (at most nt2 ) constraints to the lp: • for every i ∈ {1, 2, ..., n}, for every θi ∈ θi, and for every alternative type report ˆθi ∈ θi, we add the constraint θ1,...,θn γ(θ1, ..., θn |θi)(( o∈o (p(θ1, θ2, ..., θi, ..., θn ))(o)u(θi, o)) − πi(θ1, θ2, ..., θi, ..., θn )) ≥ θ1,...,θn γ(θ1, ..., θn |θi)(( o∈o (p(θ1, θ2, ..., ˆθi, ..., θn ))(o)u(θi, o)) − πi(θ1, θ2, ..., ˆθi, ..., θn )).
, θn ).
, ˆθi, .
, θn ))(o)u(θi, o)) − πi(θ1, θ2, .
, θn ) ≥ ( o∈o (p(θ1, θ2, .
, θi, .
× θn , and for every alternative type report ˆθi ∈ θi, we add the constraint ( o∈o (p(θ1, θ2, .
, θn ) ∈ θ1 × θ2 × .
, n}, for every (θ1, θ2, .
for  implementation in dominant strategies, we add the following (at most ntn+1 ) constraints to the lp: • for every i ∈ {1, 2, .
, θn )) ≥ 0. now, we show the solution concept constraints.
, θn ))(o)u(θi, o))− πi(θ1, θ2, .
, θn |θi)(( o∈o (p(θ1, θ2, .
, n}, for every θi ∈ θi, we add θ1,... ,θn γ(θ1, .
, θn ) ≥ 0. for ex interim ir, we add the following (at most nt) constraints to the lp: • for every i ∈ {1, 2, .
× θn , we add ( o∈o (p(θ1, θ2, .
, n}, and for every (θ1, θ2, .
for ex post ir, we add the following (at most ntn ) constraints to the lp: • for every i ∈ {1, 2, .
first, we show the ir constraints.
(we show the linear program for the case where payments are possible; the case without  payments is easily obtained from this by simply omitting all the payment variables in the program, or by adding additional constraints forcing the payments to be 0.)
, θn ) (at most ntn variables).
, θn ))(o) (at most tn |o| variables) and the payments πi(θ1, θ2, .
the variables of our linear program will be the probabilities (p(θ1, θ2, .
because linear programs can be solved in  polynomial time [13], all we need to show is that the number of variables and equations in our program is polynomial for any constant number of agents-that is, exponential only in n. throughout, for purposes of determining the size of the  linear program, let t = maxi{|θi|}.
theorem 3. self-interested randomized amd with a  constant number of agents is solvable in polynomial time by  linear programming, both with and without payments, both for ex post and ex interim ir, and both for implementation in dominant strategies and for implementation in bayes-nash equilibrium-even if the types are correlated.
selfinterested designer is easy we now show how allowing for randomization over the outcomes makes the problem of self-interested amd tractable through linear programming, for any constant number of agents.
