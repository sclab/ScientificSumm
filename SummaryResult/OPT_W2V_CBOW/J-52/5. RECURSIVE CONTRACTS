When the principal comes to design a contract with node A, he needs to consider the subsequent contract that A should sign with B, which should satisfy the following constrints.
However, in the case of recursive contracts, the entity that pledges to pay in the cost discovery stage (the principal) is not the same as the entity that  defines and executes the payments in the forwarding stage (the transit nodes).
In this section, we distinguish between direct and recursive  contracts.
In order to calculate the expected total payment , we have to find the payment to the first node on 