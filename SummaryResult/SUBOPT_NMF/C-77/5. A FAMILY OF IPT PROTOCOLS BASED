The  theorem that follows shows that condition K2(m, k) is correct.
5.2 Resulting IPT Protocol The complete text of the IPT protocol based on the  previous discussion follows.
RM2 When Pi sends a message m to Pj, it attaches to m the set of triples (each made up of a process id, an integer and a boolean): {(k, V Ci[k], IPi[k]) | (Mi[j, k] = 0 ∨ IPi[k] = 0) ∧ (V Ci[k] > 0)}.
It follows from the previous discussion that this matrix is managed according to the following rules ( note that its i-th line is 