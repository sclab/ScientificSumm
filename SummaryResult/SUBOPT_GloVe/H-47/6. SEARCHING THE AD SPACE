To make this check efficiently we keep a sorted list of all the class paths and, at scoring time, we search the paths bottom up for a meta-term appearing in the ad.
In the previous section we discussed the choice of scoring function to estimate the match between an ad and a page.
To be able to search the ads on a combination of keywords and classes we have mapped the classification match to term match and adapted the scoring function to be suitable for fast  evaluation over inverted indexes.
During the class score calculation , for each class path 