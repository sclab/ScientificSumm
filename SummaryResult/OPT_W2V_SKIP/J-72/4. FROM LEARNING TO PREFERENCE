Because of our Lindahl price construction, when all agents reply ‘YES" to a demand query, we have found an optimal  allocation, analogous to the case where an agent replies ‘YES" to an equivalence query when the target function has been exactly learned.
That is, the resulting algorithm does not simply learn the  valuations exactly, then compute an optimal allocation.
This procedure will halt, since in the worst-case all agent valuations will be learned exactly, in which case the  optimal allocation and Lindahl prices will be accepted by all agents.
Note that the conversion procedure results in a preference 