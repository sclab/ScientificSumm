A utility function u : Rn
+ → R is a function relating 
bundles of goods to a cardinal in a manner reflecting the 
preferences over the bundles. A rational agent with a budget that
w.l.g equals 1 facing a price vector p ∈ Rn
+ will choose from
her budget set B(p) = {x ∈ Rn
+ : p · x ≤ 1} a bundle x ∈ Rn
+
that maximizes her private utility.
The first assumption we make is that the function is 
monotone increasing, namely, if x ≥ y, in the sense that the
inequality holds coordinatewise, then u(x) ≥ u(y). This 
reflects the assumption that agents will always prefer more of
any one good. This, of course, does not necessarily hold in
practice, as in many cases excess supply may lead to 
storage expenses or other externalities. However, in such cases
the demand will be an interior point of the budget set and
the less preferred bundles won"t be observed. The second
assumption we make on the utility is that all the marginals
(partial derivatives) are monotone decreasing. This is the
law of diminishing marginal utility which assumes that the
larger the excess of one good over the other the less we value
each additional good of one kind over the other. These 
assumptions imply that the utility function is concave and
monotone on the observations.
The demand function of the agent is the correspondence
fu : Rn
+ → Rn
+ satisfying
f(p) = argmax{u(x) : p · x ≤ I}
In general this correspondence is not necessarily single 
valued, but it is implicit in the proof of Afriat"s theorem that
any set of observations can be rationalized by a demand
function that is single valued for unobserved prices.
37
Since large quantities of any good are likely to create 
utility decreasing externalities, we assume the prices are limited
to a compact set. W.l.g. we assume u has marginal utility
zero outside [0, 1]d
. Any budget set that is not a subset of
the support is maximized on any point outside the support
and it is therefore difficult to forecast for these prices. We
are thus interested in forecasts for prices below the simplex
∆d = conv{(0, . . . , 1, . . . , 0)}. For these prices we take the
metric
dP (p, p ) = max{|
1
pi
−
1
pi
| : i = 1, . . . , d}
for p, p ∈ ∆d. Note that with this metric ∆d is compact. A
demand function is L-income-Lipschitz, for L ∈ R+, if
||f(p) − f(p )||∞
dP (p, p )
≤ L
for any p, p ∈ ∆d. This property reflects an assumption
that preferences and demands have some sort of stability. It
rules out different demands for the similar prices. We may
therefore assume from here on that demand functions are
single valued.
