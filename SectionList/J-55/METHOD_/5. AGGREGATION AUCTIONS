We have seen that optimal auctions for small cases of the 
limitedsupply model can be found analytically. In this section, we will
construct a schema for turning limited supply auctions into 
unlimited supply auctions with a good competitive ratio.
As discussed in Section 2.5, the existence of a profit 
extractor, ProfitExtractR, allows an auction to treat a set of bids S
as a single bid with value F(S). Given n bidders and an 
auction, Am, for m < n bidders, we can convert the m-bidder 
auction into an n-bidder auction by randomly partitioning the bidders
into m subsets and then treating each subset as a single bidder (via
ProfitExtractR) and running the m-bidder auction.
DEFINITION 7. Given a truthful m-bidder auction, Am, the
m-aggregation auction for Am, AggAm
, works as follows:
1. Cast each bid uniformly at random into one of m bins, 
resulting in bid vectors b(1)
, . . . , b(m)
.
2. For each bin j, compute the aggregate bid Bj = F(b(j)
).
Let B be the vector of aggregate bids, and B−j be the 
aggregate bids for all bins other than j.
3. Compute the aggregate price Tj = f(B−j), where f is the
bid-independent function for Am.
4. For each bin j, run ProfitExtractTj on b(j)
.
Since Am and ProfitExtractR are truthful, Tj is computed 
independently of any bid in bin j and thus the price offered any bidder
in b(j)
is independent of his bid; therefore,
THEOREM 6. If Am is truthful, the m-aggregation auction for
Am, AggAm
, is truthful.
Note that this schema yields a new way of understanding the
Random Sampling Profit Extraction (RSPE) auction [5] as the 
simplest case of an aggregation auction. It is the 2-aggregation auction
for Υ2, the 1-unit Vickrey auction.
To analyze AggAm
, consider throwing k balls into m labeled
bins. Let k represent a configuration of balls in bins, so that ki is
equal to the number of balls in bin i, and k(i) is equal to the number
of balls in the ith largest bin. Let Km,k represent the set of all 
possible configurations of k balls in m bins. We write the multinomial
coefficient of k as k
k
. The probability that a particular 
configuration k arises by throwing balls into bins uniformly at random is
k
k
m−k
.
THEOREM 7. Let Am be an auction with competitive ratio β.
Then the m-aggregation auction for Am, AggAm
, raises the 
following fraction of the optimal revenue F(2)
(b):
E AggAm
(b)
F(2)
≥ min
k≥2
k∈Km,k
F(2)
(k) k
k
βkmk
PROOF. By definition, F(2)
sells to k ≥ 2 bidders at a single
price p. Let kj be the number of such bidders in b(j)
. Clearly,
F(b(j)
) ≥ pkj. Therefore,
F(2)
(F(b(1)
), . . . , F(b(n)
))
F(2)(b)
≥
F(2)
(pk1, . . . , pkn)
pk
=
F(2)
(k1, . . . , kn)
k
The inequality follows from the monotonicity of F(2)
, and the
equality from the homogeneity of F(2)
.
ProfitExtractTj will raise Tj if Tj ≤ Bj , and no profit 
otherwise. Thus, E AggAm
(b) ≥ E F(2)
(B)/β . The theorem 
follows by rewriting this expectation as a sum over all k in Km,k.
5.1 A 3.25 Competitive Auction
We apply the aggregation auction schema to Υ3, our optimal
auction for three bidders, to achieve an auction with competitive
ratio 3.25. This improves on the previously best known auction
which is 3.39-competitive [7].
THEOREM 8. The aggregation auction for Υ3 has competitive
ratio 3.25.
179
PROOF. By theorem 7,
E AggΥ3
(b)
F(2)(b)
≥ min
k≥2
k
i=1
k−i
j=1
F(2)
(i, j, k − i − j) k
i,j,k−i−j
βk3k
For k = 2 and k = 3, E AggΥ3
(b) = 2
3
k/β. As k increases,
E AggΥ3
(b) /F(2)
increases as well. Since we do not expect
to find a closed-form formula for the revenue, we lower bound
F(2)
(b) by 3b(3). Using large deviation bounds, one can show
that this lower bound is greater than 2
3
k/β for large-enough k, and
the remainder can be shown by explicit calculation.
Plugging in β = 13/6, the competitive ratio is 13/4. As k 
increases, the competitive ratio approaches 13/6.
Note that the above bound on the competitive ratio of AggΥ3
is tight. To see this, consider the bid vector with two very large
and non-identical bids of h and h + with the remaining bids 1.
Given that the competitive ratio of Υ3 is tight on this example,
the expected revenue of this auction on this input will be exactly
13/4.
5.2 A Gs,t-based Aggregation Auction
In this section we show that Υ3 is not the optimal auction to
use in an aggregation auction. One can do better by choosing the
auction that is optimally competitive against a specially tailored
benchmark.
To see why this might be the case, notice (Table 1) that the 
fraction of F(2)
(b) raised for when there are k = 2 and k = 3 
winning bidders in F(2)
(b) is substantially smaller than the fraction of
F(2)
(b) raised when there are more winners. This occurs because
the expected ratio between F(2)
(B) and F(2)
(b) is lower in this
case while the competitive ratio of Υ3 is constant. If we chose a
three bidder auction that performed better when F(2)
has smaller
numbers of winners, our aggregation auction would perform better
in the worst case.
One approach is to compete against a different benchmark that
puts more weight than F(2)
on solutions with a small number of
winners. Recall that F(2)
is the instance of Gs,t with s = 2 and
t = 3. By using the auction that competes optimally against Gs,t
with s > 2, while holding t = 3, we will raise a higher 
fraction of revenue on smaller numbers of winning bidders and a lower
fraction of revenue on large numbers of winning bidders. We can
numerically optimize the values of s and t in Gs,t(b) in order to
achieve the best competitive ratio for the aggregation auction. In
fact, this will allow us to improve our competitive ratio slightly.
THEOREM 9. For an optimal choice of s and t, the aggregation
auction for Υs,t
3 is 3.243-competitive.
The proof follows the outline of Theorem 7 and 8 with the 
optimal choice of s = 2.162 (while t is held constant at 3).
5.3 Further Reducing the Competitive Ratio
There are a number of ways we might attempt to use this 
aggregation auction schema to continue to push the competitive ratio
down. In this section, we give a brief discussion of several attempts.
5.3.1 AggΥm
for m > 3
If the aggregation auction for Υ2 has a competitive ratio of 4
and the aggregation auction for Υ3 has a competitive ratio of 3.25,
can we improve the competitive ratio by aggregating Υ4 or Υm
for larger m? We conjecture in the negative: for m > 3, the 
aggregation auction for Υm has a larger competitive ratio than the
aggregation auction for Υ3. The primary difficulty in proving this
k m = 2 m = 3 m = 4 m = 5 m = 6 m = 7
2 0.25 0.3077 0.3349 0.3508 0.3612 0.3686
3 0.25 0.3077 0.3349 0.3508 0.3612 0.3686
4 0.3125 0.3248 0.3349 0.3438 0.3512 0.3573
5 0.3125 0.3191 0.3244 0.3311 0.3378 0.3439
6 0.3438 0.321 0.3057 0.3056 0.311 0.318
7 0.3438 0.333 0.3081 0.3009 0.3025 0.3074
8 0.3633 0.3229 0.3109 0.3022 0.3002 0.3024
9 0.3633 0.3233 0.3057 0.2977 0.2927 0.292
10 0.377 0.3328 0.308 0.2952 0.2866 0.2837
11 0.377 0.3319 0.3128 0.298 0.2865 0.2813
12 0.3872 0.3358 0.3105 0.3001 0.2894 0.2827
13 0.3872 0.3395 0.3092 0.2976 0.2905 0.2841
14 0.3953 0.3391 0.312 0.2961 0.2888 0.2835
15 0.3953 0.3427 0.3135 0.2973 0.2882 0.2825
16 0.4018 0.3433 0.3128 0.298 0.2884 0.2823
17 0.4018 0.3428 0.3129 0.2967 0.2878 0.282
18 0.4073 0.3461 0.3133 0.2959 0.2859 0.2808
19 0.4073 0.3477 0.3137 0.2962 0.2844 0.2789
20 0.4119 0.3486 0.3148 0.2973 0.2843 0.2777
21 0.4119 0.3506 0.3171 0.298 0.2851 0.2775
22 0.4159 0.3519 0.3189 0.2986 0.2863 0.2781
23 0.4159 0.3531 0.3202 0.2995 0.2872 0.2791
24 0.4194 0.3539 0.3209 0.3003 0.2878 0.2797
25 0.4194 0.3548 0.3218 0.3012 0.2886 0.2801
Table 1: E A(b)/F(2)
(b) for AggΥm
as a function of k, the
optimal number of winners in F(2)
(b). The lowest value for
each column is printed in bold.
conjecture lies in the difficulty of finding a closed-form solution
for the formula of Theorem 7. We can, however, evaluate this 
formula numerically for different values of m and k, assuming that the
competitive ratio for Υm matches the lower bound for m given by
Theorem 2. Table 1 shows, for each value of m and k, the fraction
of F(2)
raised by the aggregation auction for AggΥm
when there
are k winning bidders, assuming the lower bound of Theorem 2 is
tight.
5.3.2 Convex combinations of AggΥm
As can be seen in Table 1, when m > 3, the worst-case value
of k is no longer 2 and 3, but instead an increasing function of
m. An aggregation auction for Υm outperforms the aggregation
auction for Υ3 when there are two or three winning bidders, while
the aggregation auction for Υ3 outperforms the other when there
are at least six winning bidders. Thus, for instance, an auction
which randomizes between aggregation auctions for Υ3 and Υ4
will have a worst-case which is better than that of either auction
alone. Larger combinations of auctions will allow more room to
optimize the worst-case. However, we suspect that no convex 
combination of aggregation auctions will have a competitive ratio lower
than 3. Furthermore, note that we cannot yet claim the existence of
a good auction via this technique as the optimal auction Υn for
n > 3 is not known and it is only conjectured that the bound given
by Theorem 2 and represented in Table 1 is correct for Υn.
